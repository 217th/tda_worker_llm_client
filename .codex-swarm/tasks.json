{
  "tasks": [
    {
      "id": "T-001",
      "title": "E00 Spike: choose region/Eventarc routing for Firestore trigger",
      "description": "Epic 0 (Cloud environment + deploy pipeline): decide and document region alignment (Firestore DB, Eventarc trigger, Cloud Functions gen2) and update @docs/questions/open_questions.md / @docs/spec/deploy_and_envs.md if needed.",
      "status": "DONE",
      "priority": "low",
      "owner": "DOCS",
      "tags": [
        "epic0",
        "spike",
        "gcp",
        "eventarc"
      ],
      "depends_on": [],
      "commit": {
        "hash": "d8ad63a33a83253942c89b3808f6661e9ad5c4e1",
        "message": "üó∫Ô∏è T-001 align region routing"
      }
    },
    {
      "id": "T-002",
      "title": "E00 Spike: define least-privilege IAM for runtime/trigger SAs",
      "description": "Epic 0 (Cloud environment + deploy pipeline): enumerate minimal IAM roles for runtime SA and Eventarc trigger SA (Firestore, GCS, Secret Manager, Eventarc) and document in @docs/spec/deploy_and_envs.md + runbook.",
      "status": "DONE",
      "priority": "low",
      "owner": "DOCS",
      "tags": [
        "epic0",
        "spike",
        "iam",
        "gcp"
      ],
      "depends_on": [],
      "commit": {
        "hash": "71aa4a980cfbd744d3f97ab17cdd7590a0a89a2a",
        "message": "üîê T-002 IAM least-privilege"
      }
    },
    {
      "id": "T-003",
      "title": "E00 Define dev GCP bootstrap checklist and required resources",
      "description": "Epic 0 (Cloud environment + deploy pipeline): produce a concrete dev-environment bootstrap checklist (project/region/Firestore DB/buckets/SA/Secret Manager) aligned to decisions from SPK-017/018; update @docs/spec/deploy_and_envs.md and add a runbook entry.",
      "status": "DONE",
      "priority": "med",
      "owner": "DOCS",
      "tags": [
        "epic0",
        "docs",
        "gcp"
      ],
      "depends_on": [
        "T-001",
        "T-002"
      ],
      "commit": {
        "hash": "c183c0d7e2291c8f14c1f10fae904272b19c49c8",
        "message": "üß∞ T-003 dev bootstrap checklist"
      }
    },
    {
      "id": "T-004",
      "title": "E00 Add deploy pipeline command/script for Cloud Functions gen2",
      "description": "Epic 0 (Cloud environment + deploy pipeline): implement a repeatable deploy/update command (e.g. Makefile target or script) using the gcp-functions-gen2-python-deploy playbook; keep placeholders for secrets/IDs; include env vars file handling.",
      "status": "DONE",
      "priority": "med",
      "owner": "CODER",
      "tags": [
        "epic0",
        "deploy",
        "gcp",
        "pipeline"
      ],
      "depends_on": [
        "T-003"
      ],
      "commit": {
        "hash": "228ba0c77a421088db7bc107f4a194a1d7a08686",
        "message": "üìù T-004 T-007 deploy lessons learned"
      }
    },
    {
      "id": "T-005",
      "title": "E00 Add smoke-check runbook + Cloud Logging queries",
      "description": "Epic 0 (Cloud environment + deploy pipeline): document smoke scenario and log queries (jsonPayload.event chain, runId/stepId filters) plus GCS artifact checks; align with deploy pipeline.",
      "status": "DONE",
      "priority": "med",
      "owner": "DOCS",
      "tags": [
        "epic0",
        "docs",
        "logging",
        "smoke"
      ],
      "depends_on": [
        "T-003",
        "T-004"
      ],
      "commit": {
        "hash": "341ddaa580095f0ce885655fd3fd24b1d84ce277",
        "message": "üß™ T-005 smoke runbook"
      }
    },
    {
      "id": "T-006",
      "title": "E00 Verify dev deploy pipeline + smoke scenario (DoD)",
      "description": "Epic 0 (Cloud environment + deploy pipeline): run the deploy/update flow in dev and execute the smoke-check runbook; use gcp-functions-gen2-python-deploy playbook verification steps; record evidence in @.codex-swarm/workspace/T-006/README.md.",
      "status": "DONE",
      "priority": "med",
      "owner": "TESTER",
      "tags": [
        "epic0",
        "verify",
        "cloud"
      ],
      "depends_on": [
        "T-004",
        "T-005"
      ],
      "commit": {
        "hash": "85d244ce58853bb39661e1cc41ff8d3142739b05",
        "message": "üß™ T-006 record smoke verification"
      }
    },
    {
      "id": "T-007",
      "title": "E00 Add minimal Cloud Functions stub for deploy testing",
      "description": "Epic 0 (Cloud environment + deploy pipeline): add a minimal main.py + requirements.txt (+ .gcloudignore) so the deploy script can be exercised safely before real implementation.",
      "status": "DONE",
      "priority": "med",
      "owner": "CODER",
      "tags": [
        "epic0",
        "deploy",
        "stub"
      ],
      "depends_on": [
        "T-004"
      ],
      "commit": {
        "hash": "901d498be7a6ee0883a99ba17b5b544fe5d83d80",
        "message": "üßπ T-007 ignore gcloud config"
      }
    },
    {
      "id": "T-008",
      "title": "E01 Spike: confirm Gemini endpoint + SDK constraints",
      "description": "Epic 1 spike (SPK-007): confirm the production endpoint decision (AI Studio vs Vertex AI) and SDK support for structured output + image parts; update @docs/spec/system_integration.md, @docs/spec/deploy_and_envs.md, and @docs/questions/open_questions.md if any decision changes are needed.",
      "status": "DONE",
      "priority": "med",
      "owner": "DOCS",
      "tags": [
        "epic1",
        "spike",
        "gemini"
      ],
      "depends_on": [],
      "comments": [
        {
          "author": "DOCS",
          "body": "Start: review official Gemini API + Google GenAI SDK docs to confirm endpoint choice and SDK constraints for structured output + image inputs; update docs per Epic 1 spike."
        },
        {
          "author": "DOCS",
          "body": "Verified: docs-only update; no runtime changes; no tests run."
        }
      ],
      "commit": {
        "hash": "b01f399f8ac79236a7962d1ae4a007b3fd6e3df2",
        "message": "üìù T-008 confirm Gemini endpoint + SDK constraints"
      }
    },
    {
      "id": "T-009",
      "title": "E01 Spike: define model allowlist policy",
      "description": "Epic 1 spike (SPK-020): define and document the allowed-models policy (format/location of allowlist, enforcement strategy, and error mapping for disallowed models) and update @docs/spec/deploy_and_envs.md and @docs/spec/system_integration.md accordingly.",
      "status": "DONE",
      "priority": "med",
      "owner": "DOCS",
      "tags": [
        "epic1",
        "spike",
        "config"
      ],
      "depends_on": [],
      "comments": [
        {
          "author": "DOCS",
          "body": "Start: define allowed-models policy and doc updates for Epic 1 (allowlist format, enforcement, error mapping)."
        },
        {
          "author": "DOCS",
          "body": "Verified: docs-only update; no runtime changes; no tests run."
        }
      ],
      "commit": {
        "hash": "a98c69b3f6b5cef69f1b3bd00660cc23db265031",
        "message": "üìù T-009 document model allowlist policy"
      }
    },
    {
      "id": "T-010",
      "title": "E01 Implement WorkerConfig + Gemini auth config",
      "description": "Implement Epic 1 classes: WorkerConfig, GeminiApiKey, GeminiAuthConfig. Validate env config (collections, bucket, timeouts, log level) and support single-key auth via GEMINI_API_KEY only; do not leak secrets; wire config into the runtime entrypoint.",
      "status": "DONE",
      "priority": "high",
      "owner": "CODER",
      "tags": [
        "epic1",
        "config",
        "runtime"
      ],
      "depends_on": [
        "T-008",
        "T-009"
      ],
      "comments": [
        {
          "author": "CODER",
          "body": "Start: implement WorkerConfig/GeminiAuthConfig single-key mode only; validate env and wire into entrypoint."
        },
        {
          "author": "CODER",
          "body": "Verified: manual config sanity check with ARTIFACTS_BUCKET and GEMINI_API_KEY; output: config ok."
        }
      ],
      "commit": {
        "hash": "facf2e6dd595ba4d96a1b424d6b674799f120120",
        "message": "‚ú® T-010 add runtime config + Gemini auth"
      }
    },
    {
      "id": "T-011",
      "title": "E01 Add unit tests for runtime config",
      "description": "Add unit tests for WorkerConfig.from_env() and Gemini auth parsing: single-key happy path, missing/empty key errors; assert error messages do not include the API key or its hash.",
      "status": "DONE",
      "priority": "med",
      "owner": "TESTER",
      "tags": [
        "epic1",
        "tests"
      ],
      "depends_on": [
        "T-010"
      ],
      "comments": [
        {
          "author": "TESTER",
          "body": "Start: add unit tests for WorkerConfig single-key validation and safe error messaging."
        },
        {
          "author": "TESTER",
          "body": "Verified: python3 -m unittest tests.test_config ran OK; 4 tests passed."
        }
      ],
      "commit": {
        "hash": "d39626de9fcd425bdb699c67172f098b6d1d1fd7",
        "message": "üß™ T-011 add WorkerConfig tests"
      }
    },
    {
      "id": "T-012",
      "title": "E01 Dev verify secret injection + logging",
      "description": "Using the dev deploy pipeline from Epic 0, verify Secret Manager ‚Üí env var injection for GEMINI_API_KEY and confirm logs include only llm.auth.mode (no key or keyId); record evidence in @.codex-swarm/workspace/T-012/README.md.",
      "status": "TODO",
      "priority": "med",
      "owner": "TESTER",
      "tags": [
        "epic1",
        "verify",
        "cloud"
      ],
      "depends_on": [
        "T-010",
        "T-011"
      ]
    },
    {
      "id": "T-013",
      "title": "E01 Epic 1 DoD verification + stabilization",
      "description": "Final Epic 1 verification: run local test suite for config/auth and confirm dev smoke results meet Epic 1 DoD (validated config, no secret leakage, single-key auth). Update @.codex-swarm/workspace/T-013/README.md with results and any stabilization notes.",
      "status": "TODO",
      "priority": "med",
      "owner": "INTEGRATOR",
      "tags": [
        "epic1",
        "verify",
        "stabilization"
      ],
      "depends_on": [
        "T-012"
      ]
    }
  ],
  "meta": {
    "schema_version": 1,
    "managed_by": "agentctl",
    "checksum_algo": "sha256",
    "checksum": "fb5112f8846d0fd34d573c34692d99f371eb7cf76a50189d13f7d2e58dfe5526"
  }
}
